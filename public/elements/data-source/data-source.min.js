class DataSource extends EnigmaticElement{needsAuthentication=!0;url="";target="";async connectedCallback(){this.hide();const a=this.getAttribute("href"),b=this.getAttribute("target");this.needsAuthentication=!this.hasAtttribute("noauth");const c=this.hasAttribute("wait");c||(await this.main())}async main(){await window.ready(),this.fetch()}failedAuthentication(a){return"401"==a.status}async fetch(){let a=await fetch(this.url);if(this.needsAuthentication&&this.failedAuthentication(a))return this.showLogin();const b=await a.json();target&&window.data.set(this.target,b)}showLogin(){this.show()}}customElements.define("data-source",DataSource);
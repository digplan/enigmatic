<script src='enigmatic.js'></script>

<div id='testdiv'></div>

<script type='module'>

    const tests = $('#testdiv')
    tests.innerHTML += '1 $'

    const test2 = $$('div')
    tests.innerHTML += '2 $$'

    await loadJS('https://cdn.tailwindcss.com')
    tests.innerHTML += '3 loadJS ' + window.tailwiind

    await loadCSS('https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css')
    tests.innerHTML += '4 loadCSS ' + window.tailwiind

    tests.innerHTML += '5 wait '
    await wait(2000)
    tests.innerHTML += 'OK'

    tests.innerHTML += '6 beep' + beep()

    element('my-custom', data=>data.myvalue, '<div>${o.mykey}</div>')
    const e = document.createElement('my-custom')
    e.setAttribute('data', 'mydata')

    state('mydata', {myvalue: 'my value'})

    await get('', null, data=>data.myvalue, 'my-fetched-data')
    state('my-fetched-data')

    await stream('', 'my-streamed-data')
    state('my-streamed-data')

</script>
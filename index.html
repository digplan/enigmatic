<script src="components.js"></script>
<script src="enigmatic.js"></script>
<script src="e2.js"></script>
<link rel="stylesheet" href="enigmatic.css">

<body style="--cols:1fr; --rows:1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr">
    <hello-world data="name"></hello-world>
    <my-element></my-element>

    <div id=one fetch="https://randomuser.me/api/?results=1" t="e=>e.results">{email}</div>

    <script>
      // Wait for DOM and enigmatic.js to be ready
      document.addEventListener('DOMContentLoaded', async () => {
        // Wait for e to be available (enigmatic.js assigns it)
        while (typeof window.e === 'undefined') {
          await new Promise(r => setTimeout(r, 10))
        }
        
        e('my-element', {
          init: (e) => e.innerText = 'ready',
          click: (ev) => ev.target.style.color = 'green',
          mouseover: (ev) => ev.target.style.color = 'yellow',
        }, {
          color: 'red',
          "text-decoration": 'underline'
        })
        
        // Set state for components
        await ready()
        state.name = { name: 'World' }
      })
    </script>
</body>
